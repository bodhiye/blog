<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta name=author content="叶琼州"><meta name=description content="叶琼州的个人博客"><meta name=keywords content="博客,blog,算法,go,golang,docker,k8s,kubernetes,武汉大学,计算机,叶琼州,yeqiongzhou"><link rel=prev href=https://yeqiongzhou.com/2021/03/offer03-findrepeatnumber/><link rel=canonical href=https://yeqiongzhou.com/2021/04/offer04-findnumberin2darray/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=icon type=image/x-icon href=/favicon.ico><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><title>剑指offer04-二维数组中的查找 | 叶琼州的代码小窝</title><meta name=title content="剑指offer04-二维数组中的查找 | 叶琼州的代码小窝"><link rel=stylesheet href=/font/iconfont.css><link rel=stylesheet href=/css/main.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/yeqiongzhou.com"},"articleSection":"posts","name":"剑指offer04-二维数组中的查找","headline":"剑指offer04-二维数组中的查找","description":"题目描述 在一个 n * m 的二维数组中，每一行都按照从左到右递增的顺序排序，每一列都按照从上到下递增的顺序排序。请完成一个高效的函数，输入这样的一","inLanguage":"zh-cn","author":"叶琼州","creator":"叶琼州","publisher":"叶琼州","accountablePerson":"叶琼州","copyrightHolder":"叶琼州","copyrightYear":"2021","datePublished":"2021-04-05 23:52:00 \u002b0800 \u002b0800","dateModified":"2021-04-05 23:52:00 \u002b0800 \u002b0800","url":"https:\/\/yeqiongzhou.com\/2021\/04\/offer04-findnumberin2darray\/","wordCount":"821","keywords":["Offer","叶琼州的代码小窝"]}</script><script async src="https://www.googletagmanager.com/gtag/js?id="></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','')</script></head><body><div class=wrapper><nav class=navbar><div class=container><div class="navbar-header header-logo"><a href=javascript:void(0); class=theme-switch><i class="font_family icon-love"></i></a>&nbsp;<a href=https://yeqiongzhou.com>叶琼州的代码小窝</a></div><div class="menu navbar-right"><a class=menu-item href=/posts/ title>Blog</a>
<a class=menu-item href=/categories/ title>Categories</a>
<a class=menu-item href=/tags/ title>Tags</a>
<a class=menu-item href=/about/ title>About</a></div></div></nav><nav class=navbar-mobile id=nav-mobile style=display:none><div class=container><div class=navbar-header><div><a href=javascript:void(0); class=theme-switch><i class="font_family icon-love"></i></a>&nbsp;<a href=https://yeqiongzhou.com>叶琼州的代码小窝</a></div><div class=menu-toggle><span></span><span></span><span></span></div></div><div class=menu id=mobile-menu><a class=menu-item href=/posts/ title>Blog</a>
<a class=menu-item href=/categories/ title>Categories</a>
<a class=menu-item href=/tags/ title>Tags</a>
<a class=menu-item href=/about/ title>About</a></div></div></nav><main class=main><div class=container><article class=post-warp itemscope itemtype=http://schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline">剑指offer04-二维数组中的查找</h1><div class=post-meta>Written by <a itemprop=name href=https://yeqiongzhou.com rel=author>叶琼州</a> with ♥
<span class=post-time>on <time datetime=4996-21-511 itemprop=datePublished>April 5, 2021</time></span>
in
<i class="font_family icon-folder"></i>
<span class=post-category><a href=https://yeqiongzhou.com/categories/%E5%89%91%E6%8C%87offer/>剑指offer</a></span>
<span class=post-word-count>, 821 words</span></div></header><div class=post-content><h2 id=题目描述>题目描述</h2><p>　　在一个 n * m 的二维数组中，每一行都按照从左到右递增的顺序排序，每一列都按照从上到下递增的顺序排序。请完成一个高效的函数，输入这样的一个二维数组和一个整数，判断数组中是否含有该整数。</p><h3 id=示例>示例</h3><p>现有矩阵 matrix 如下：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>[</span>
  <span style=color:#f92672>[</span>1,   4,  7, 11, 15<span style=color:#f92672>]</span>,
  <span style=color:#f92672>[</span>2,   5,  8, 12, 19<span style=color:#f92672>]</span>,
  <span style=color:#f92672>[</span>3,   6,  9, 16, 22<span style=color:#f92672>]</span>,
  <span style=color:#f92672>[</span>10, 13, 14, 17, 24<span style=color:#f92672>]</span>,
  <span style=color:#f92672>[</span>18, 21, 23, 26, 30<span style=color:#f92672>]</span>
<span style=color:#f92672>]</span>
</code></pre></div><p>给定 target = <code>5</code>，返回 <code>true</code>。
给定 target = <code>20</code>，返回 <code>false</code>。</p><h3 id=限制>限制</h3><p><code>0 &lt;= n &lt;= 1000</code>
<code>0 &lt;= m &lt;= 1000</code></p><h2 id=题解>题解</h2><p>　　首先题目中要求设计一个高效的算法，那肯定不能直接遍历整个数组，如果在面试中被问到这个题目，面试官也不期待见到暴力搜索的解法。
　　由于给定的二维数组具备每行从左到右递增以及每列从上到下递增的特点，所以每行的最后一个元素是在本行最大的元素且在本列最小的元素，通过访问这个元素，可以排除本行或者本列的其它元素。
　　从二维数组的右上角开始查找。如果当前元素等于目标值，则返回 true。如果当前元素大于目标值，则移到左边一列。如果当前元素小于目标值，则移到下边一行。
　　用题目中给的例子来模拟寻找<code>20</code>的过程：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#ae81ff>1</span>  <span style=color:#ae81ff>4</span>  <span style=color:#ae81ff>7</span>  11<span style=color:#f92672>[</span>15<span style=color:#f92672>]</span>
<span style=color:#ae81ff>2</span>  <span style=color:#ae81ff>5</span>  <span style=color:#ae81ff>8</span>  <span style=color:#ae81ff>12</span> <span style=color:#ae81ff>19</span>
<span style=color:#ae81ff>3</span>  <span style=color:#ae81ff>6</span>  <span style=color:#ae81ff>9</span>  <span style=color:#ae81ff>16</span> <span style=color:#ae81ff>22</span>
<span style=color:#ae81ff>10</span> <span style=color:#ae81ff>13</span> <span style=color:#ae81ff>14</span> <span style=color:#ae81ff>17</span> <span style=color:#ae81ff>24</span>
<span style=color:#ae81ff>18</span> <span style=color:#ae81ff>21</span> <span style=color:#ae81ff>23</span> <span style=color:#ae81ff>26</span> <span style=color:#ae81ff>30</span>

20比15大

<span style=color:#ae81ff>2</span>  <span style=color:#ae81ff>5</span>  <span style=color:#ae81ff>8</span>  12<span style=color:#f92672>[</span>19<span style=color:#f92672>]</span>
<span style=color:#ae81ff>3</span>  <span style=color:#ae81ff>6</span>  <span style=color:#ae81ff>9</span>  <span style=color:#ae81ff>16</span> <span style=color:#ae81ff>22</span>
<span style=color:#ae81ff>10</span> <span style=color:#ae81ff>13</span> <span style=color:#ae81ff>14</span> <span style=color:#ae81ff>17</span> <span style=color:#ae81ff>24</span>
<span style=color:#ae81ff>18</span> <span style=color:#ae81ff>21</span> <span style=color:#ae81ff>23</span> <span style=color:#ae81ff>26</span> <span style=color:#ae81ff>30</span>

20比19大

<span style=color:#ae81ff>3</span>  <span style=color:#ae81ff>6</span>  <span style=color:#ae81ff>9</span>  16<span style=color:#f92672>[</span>22<span style=color:#f92672>]</span>
<span style=color:#ae81ff>10</span> <span style=color:#ae81ff>13</span> <span style=color:#ae81ff>14</span> <span style=color:#ae81ff>17</span> <span style=color:#ae81ff>24</span>
<span style=color:#ae81ff>18</span> <span style=color:#ae81ff>21</span> <span style=color:#ae81ff>23</span> <span style=color:#ae81ff>26</span> <span style=color:#ae81ff>30</span>

20比22小

<span style=color:#ae81ff>3</span>  <span style=color:#ae81ff>6</span>  <span style=color:#ae81ff>9</span> <span style=color:#f92672>[</span>16<span style=color:#f92672>]</span>
<span style=color:#ae81ff>10</span> <span style=color:#ae81ff>13</span> <span style=color:#ae81ff>14</span> <span style=color:#ae81ff>17</span>
<span style=color:#ae81ff>18</span> <span style=color:#ae81ff>21</span> <span style=color:#ae81ff>23</span> <span style=color:#ae81ff>26</span>

20比16大

<span style=color:#ae81ff>10</span> <span style=color:#ae81ff>13</span> 14<span style=color:#f92672>[</span>17<span style=color:#f92672>]</span>
<span style=color:#ae81ff>18</span> <span style=color:#ae81ff>21</span> <span style=color:#ae81ff>23</span> <span style=color:#ae81ff>26</span>

20比17大

<span style=color:#ae81ff>18</span> <span style=color:#ae81ff>21</span> <span style=color:#ae81ff>23</span> <span style=color:#f92672>[</span>26<span style=color:#f92672>]</span>

20比26小

<span style=color:#ae81ff>18</span> <span style=color:#ae81ff>21</span> <span style=color:#f92672>[</span>23<span style=color:#f92672>]</span>

20比23小

<span style=color:#ae81ff>18</span> <span style=color:#f92672>[</span>21<span style=color:#f92672>]</span>

20比21小

<span style=color:#f92672>[</span>18<span style=color:#f92672>]</span>

20不等于18，故数组中不含有20，返回false。
</code></pre></div><h2 id=源码>源码</h2><h3 id=golang-实现>golang 实现</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>matrix</span> = [][]<span style=color:#66d9ef>int</span>{
		{<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>11</span>, <span style=color:#ae81ff>15</span>},
		{<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>12</span>, <span style=color:#ae81ff>19</span>},
		{<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>16</span>, <span style=color:#ae81ff>22</span>},
		{<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>13</span>, <span style=color:#ae81ff>14</span>, <span style=color:#ae81ff>17</span>, <span style=color:#ae81ff>24</span>},
		{<span style=color:#ae81ff>18</span>, <span style=color:#ae81ff>21</span>, <span style=color:#ae81ff>23</span>, <span style=color:#ae81ff>26</span>, <span style=color:#ae81ff>30</span>},
	}

	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>findNumberIn2DArray</span>(<span style=color:#a6e22e>matrix</span>, <span style=color:#ae81ff>5</span>))
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>findNumberIn2DArray</span>(<span style=color:#a6e22e>matrix</span>, <span style=color:#ae81ff>20</span>))
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>findNumberIn2DArray</span>(<span style=color:#a6e22e>matrix</span> [][]<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>target</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>bool</span> {
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>matrix</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> <span style=color:#f92672>||</span> len(<span style=color:#a6e22e>matrix</span>) <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> len(<span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>0</span>]) <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span> {
		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
	}

	<span style=color:#a6e22e>n</span>, <span style=color:#a6e22e>m</span> <span style=color:#f92672>:=</span> len(<span style=color:#a6e22e>matrix</span>), len(<span style=color:#a6e22e>matrix</span>[<span style=color:#ae81ff>0</span>])
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>m</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>n</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; {
		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] <span style=color:#f92672>==</span> <span style=color:#a6e22e>target</span> {
			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
		} <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] &lt; <span style=color:#a6e22e>target</span> {
			<span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>
		} <span style=color:#66d9ef>else</span> {
			<span style=color:#a6e22e>j</span><span style=color:#f92672>--</span>
		}
	}

	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
}
</code></pre></div><h3 id=c-实现>c++ 实现</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;vector&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>
<span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;

<span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>findNumberIn2DArray</span>(vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> <span style=color:#f92672>&gt;&amp;</span> matrix, <span style=color:#66d9ef>int</span> target)
{
	<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> matrix.size() <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>, j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
	<span style=color:#66d9ef>while</span> (i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> j <span style=color:#f92672>&lt;</span> matrix[<span style=color:#ae81ff>0</span>].size())
	{
		<span style=color:#66d9ef>if</span> (target <span style=color:#f92672>&lt;</span> matrix[i][j])
			i<span style=color:#f92672>--</span>;
		<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (target <span style=color:#f92672>&gt;</span> matrix[i][j])
			j<span style=color:#f92672>++</span>;
		<span style=color:#66d9ef>else</span>
			<span style=color:#66d9ef>return</span> true;
	}
	<span style=color:#66d9ef>return</span> false;
}

<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
{
	ios<span style=color:#f92672>::</span>sync_with_stdio(false);
	<span style=color:#66d9ef>int</span> a[][<span style=color:#ae81ff>5</span>] <span style=color:#f92672>=</span> {
		{<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>11</span>, <span style=color:#ae81ff>15</span>},
		{<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>12</span>, <span style=color:#ae81ff>19</span>},
		{<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>16</span>, <span style=color:#ae81ff>22</span>},
		{<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>13</span>, <span style=color:#ae81ff>14</span>, <span style=color:#ae81ff>17</span>, <span style=color:#ae81ff>24</span>},
		{<span style=color:#ae81ff>18</span>, <span style=color:#ae81ff>21</span>, <span style=color:#ae81ff>23</span>, <span style=color:#ae81ff>26</span>, <span style=color:#ae81ff>30</span>},
	};
	vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> <span style=color:#f92672>&gt;</span> matrix(<span style=color:#ae81ff>5</span>, vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> (<span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>0</span>));
	<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> m <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; m <span style=color:#f92672>&lt;</span> matrix.size(); m<span style=color:#f92672>++</span>)
	{
		<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; n <span style=color:#f92672>&lt;</span> matrix[m].size(); n<span style=color:#f92672>++</span>)
		{
			matrix[m][n] <span style=color:#f92672>=</span> a[m][n];
		}
	}
	cout <span style=color:#f92672>&lt;&lt;</span> findNumberIn2DArray(matrix, <span style=color:#ae81ff>5</span>) <span style=color:#f92672>&lt;&lt;</span> endl;
	cout <span style=color:#f92672>&lt;&lt;</span> findNumberIn2DArray(matrix, <span style=color:#ae81ff>20</span>) <span style=color:#f92672>&lt;&lt;</span> endl;
	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
}
</code></pre></div></div><div class=post-copyright><p class=copyright-item><span>Author:</span>
<span>叶琼州</span></p><p class=copyright-item><span>Link:</span>
<a href=https://yeqiongzhou.com/2021/04/offer04-findnumberin2darray/>https://yeqiongzhou.com/2021/04/offer04-findnumberin2darray/</span></p><p class="copyright-item lincese">本文采用<a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/ target=_blank>知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可</p></div><div class=post-tags><section><i class="font_family icon-tag"></i>Tag(s):
<span class=tag><a href=https://yeqiongzhou.com/tags/offer/>#Offer</a></span></section><section><a href=javascript:window.history.back();>back</a></span> ·
<span><a href=https://yeqiongzhou.com>home</a></span></section></div><div class=post-nav><a href=https://yeqiongzhou.com/2021/03/offer03-findrepeatnumber/ class=prev rel=prev title=剑指offer03——数组中重复的数字><i class="font_family icon-left"></i>&nbsp;剑指offer03——数组中重复的数字</a></div><div class=post-comment><div id=gitalk-container></div><link rel=stylesheet href=https://unpkg.com/gitalk/dist/gitalk.css><script src=https://unpkg.com/gitalk/dist/gitalk.min.js></script><script>var title=location.pathname.substr(0,50);const gitalk=new Gitalk({clientID:'abe0462addf2bb7816db',clientSecret:'302211bbfc34be3c75ec4cfa8751002e796356fa',repo:'blog',owner:'bodhiye',admin:['bodhiye'],id:title,distractionFreeMode:!1});(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('gitalk-container').innerHTML='Gitalk comments not available by default when the website is previewed locally.';return}gitalk.render('gitalk-container')})()</script></div></article></div></main><footer class=footer><div class=copyright>&copy;
<span itemprop=copyrightYear>2019 - 2021</span>
<span class=with-love><i class="font_family icon-love"></i></span>
<span class=author itemprop=copyrightHolder><a href=https://yeqiongzhou.com>叶琼州</a> |</span>
<a href=http://beian.miit.gov.cn/ target=_blank rel="external nofollow">赣ICP备20001186号</a> |
<span>Powered by <a href=https://gohugo.io/ target=_blank rel="external nofollow">Hugo</a></span></div></footer><script src=/js/vendor_no_gallery.min.js async></script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-135209530-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script><script>var _hmt=_hmt||[];(function(){var a=document.createElement("script"),b;a.src="https://hm.baidu.com/hm.js?8cb4aac9b76858bf912c10546e0ca16d",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script><script>(function(){var a=document.createElement('script'),c=window.location.protocol.split(':')[0],b;c==='https'?a.src='https://zz.bdstatic.com/linksubmit/push.js':a.src='http://push.zhanzhang.baidu.com/push.js',b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script></div></body></html>