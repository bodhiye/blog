<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta name=author content="å¶ç¼å·"><meta name=description content="å¶ç¼å·çš„ä¸ªäººåšå®¢"><meta name=keywords content="åšå®¢,blog,ç®—æ³•,go,golang,docker,k8s,kubernetes,æ­¦æ±‰å¤§å­¦,è®¡ç®—æœº,å¶ç¼å·,yeqiongzhou"><link rel=prev href=https://yeqiongzhou.com/2020/05/chmod/><link rel=next href=https://yeqiongzhou.com/2020/06/mongoexport/><link rel=canonical href=https://yeqiongzhou.com/2020/06/concatenate-video/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=icon type=image/x-icon href=/favicon.ico><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><title>è§†é¢‘æ‹¼æ¥ | å¶ç¼å·çš„ä»£ç å°çª</title><meta name=title content="è§†é¢‘æ‹¼æ¥ | å¶ç¼å·çš„ä»£ç å°çª"><link rel=stylesheet href=/font/iconfont.css><link rel=stylesheet href=/css/main.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/yeqiongzhou.com"},"articleSection":"posts","name":"è§†é¢‘æ‹¼æ¥","headline":"è§†é¢‘æ‹¼æ¥","description":"å‰è¨€ æœ€è¿‘åœ¨å·¥ä½œä¸­æœ‰è¿™ä¹ˆä¸€ä¸ªéœ€æ±‚ï¼šç”¨ä¸€ä¸ªè¶…å¤§è§†é¢‘æ¥æµ‹è¯•ä¸€ä¸ªè§†é¢‘æœåŠ¡æ¥å£ï¼Œçœ‹ç»“æœå“åº”æ˜¯å¦è¶…æ—¶ã€‚ä½†æ˜¯æœ¬åœ°åªæœ‰ä¸€ä¸ª2GBå¤§å°çš„ç”µå½±æ–‡ä»¶ï¼Œå¦‚ä½•å¿«é€Ÿç”Ÿæˆ","inLanguage":"zh-cn","author":"å¶ç¼å·","creator":"å¶ç¼å·","publisher":"å¶ç¼å·","accountablePerson":"å¶ç¼å·","copyrightHolder":"å¶ç¼å·","copyrightYear":"2020","datePublished":"2020-06-30 23:16:47 \u002b0800 \u002b0800","dateModified":"2020-06-30 23:16:47 \u002b0800 \u002b0800","url":"https:\/\/yeqiongzhou.com\/2020\/06\/concatenate-video\/","wordCount":"602","keywords":["FFmpeg","å¶ç¼å·çš„ä»£ç å°çª"]}</script><script async src="https://www.googletagmanager.com/gtag/js?id="></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','');</script></head><body><div class=wrapper><nav class=navbar><div class=container><div class="navbar-header header-logo"><a href=javascript:void(0); class=theme-switch><i class="font_family icon-love"></i></a>&nbsp;<a href=https://yeqiongzhou.com>å¶ç¼å·çš„ä»£ç å°çª</a></div><div class="menu navbar-right"><a class=menu-item href=/posts/>Blog</a>
<a class=menu-item href=/categories/>Categories</a>
<a class=menu-item href=/tags/>Tags</a>
<a class=menu-item href=/about/>About</a></div></div></nav><nav class=navbar-mobile id=nav-mobile style=display:none><div class=container><div class=navbar-header><div><a href=javascript:void(0); class=theme-switch><i class="font_family icon-love"></i></a>&nbsp;<a href=https://yeqiongzhou.com>å¶ç¼å·çš„ä»£ç å°çª</a></div><div class=menu-toggle><span></span><span></span><span></span></div></div><div class=menu id=mobile-menu><a class=menu-item href=/posts/>Blog</a>
<a class=menu-item href=/categories/>Categories</a>
<a class=menu-item href=/tags/>Tags</a>
<a class=menu-item href=/about/>About</a></div></div></nav><main class=main><div class=container><article class=post-warp itemscope itemtype=http://schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline">è§†é¢‘æ‹¼æ¥</h1><div class=post-meta>Written by <a itemprop=name href=https://yeqiongzhou.com rel=author>å¶ç¼å·</a> with â™¥
<span class=post-time>on <time datetime=6996-20-3011 itemprop=datePublished>June 30, 2020</time></span>
in
<i class="font_family icon-folder"></i><span class=post-category><a href=https://yeqiongzhou.com/categories/%E6%8A%80%E8%83%BD%E5%AD%A6%E4%B9%A0/>æŠ€èƒ½å­¦ä¹ </a></span>
<span class=post-word-count>, 602 words</span></div></header><div class=post-content><h3 id=å‰è¨€>å‰è¨€</h3><p>æœ€è¿‘åœ¨å·¥ä½œä¸­æœ‰è¿™ä¹ˆä¸€ä¸ªéœ€æ±‚ï¼šç”¨ä¸€ä¸ªè¶…å¤§è§†é¢‘æ¥æµ‹è¯•ä¸€ä¸ªè§†é¢‘æœåŠ¡æ¥å£ï¼Œçœ‹ç»“æœå“åº”æ˜¯å¦è¶…æ—¶ã€‚ä½†æ˜¯æœ¬åœ°åªæœ‰ä¸€ä¸ª2GBå¤§å°çš„ç”µå½±æ–‡ä»¶ï¼Œå¦‚ä½•å¿«é€Ÿç”Ÿæˆä¸€ä¸ª10GBå¤§å°çš„è§†é¢‘æ–‡ä»¶ã€‚</p><h3 id=è§†é¢‘æ‹¼æ¥>è§†é¢‘æ‹¼æ¥</h3><p>FFmpegæ˜¯ä¸€å¥—å¯ä»¥ç”¨æ¥è®°å½•ã€è½¬æ¢æ•°å­—éŸ³é¢‘ã€è§†é¢‘ï¼Œå¹¶èƒ½å°†å…¶è½¬åŒ–ä¸ºæµçš„å¼€æºç¨‹åºã€‚æœ¬æ–‡å°±ä»‹ç»<a href=https://trac.ffmpeg.org/wiki/Concatenate>FFmpegå®˜æ–¹</a>æ¨èçš„ä¸‰ç§è§†é¢‘æ‹¼æ¥æ–¹æ³•.</p><ol><li>Concat demuxer: åŸºäºdemuxerå®ç°çš„æ‹¼æ¥ï¼Œéœ€è¦è§†é¢‘éŸ³é¢‘çš„å±æ€§å®Œå…¨ä¸€æ ·ï¼Œè¿™ç§æ–¹å¼ä¸ä¼šå¯¹è§†é¢‘éŸ³é¢‘æµè§£ç å†ç¼–ç ï¼Œå› æ­¤é€Ÿåº¦å¾ˆå¿«ï¼Œæ¨èå¤§å®¶ä½¿ç”¨è¿™ç§æ–¹å¼ã€‚</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ffmpeg -f concat -safe <span style=color:#ae81ff>0</span> -i filelist.txt -c copy yeqiongzhou.mp4
filelist.txt: file <span style=color:#e6db74>&#39;test1.mp4&#39;</span>
              file <span style=color:#e6db74>&#39;test1.mp4&#39;</span>
	      file <span style=color:#e6db74>&#39;test2.mp4&#39;</span>
	      file <span style=color:#e6db74>&#39;test2.mp4&#39;</span>
é€šè¿‡ä¸Šé¢çš„å‘½ä»¤æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡æœ¬åœ°çš„test1.mp4å’Œtest2.mp4è¿™ä¸¤ä¸ªå°è§†é¢‘æ–‡ä»¶ç”Ÿæˆä¸€ä¸ªå¤§è§†é¢‘æ–‡ä»¶ã€‚
Tips: å¦‚æœæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œåˆ™ä¸éœ€è¦ä¸Šé¢çš„-safe 0ã€‚
</code></pre></div><ol start=2><li>Concat protocol: è¯¥æ–¹å¼æ˜¯åŸºäºæ–‡ä»¶æ¥æ“ä½œçš„ï¼ŒæŸäº›æ–‡ä»¶ï¼ˆä¾‹å¦‚MPEG-2 transport streamsï¼‰ï¼Œè¿™ç±»ä¼¼äºåœ¨linuxç³»ç»Ÿä¸Šä½¿ç”¨catå‘½ä»¤æˆ–åœ¨Windowsä¸Šè¿›è¡Œå¤åˆ¶æ“ä½œã€‚</li></ol><blockquote><p>ffmpeg -i &ldquo;concat:test1.mp4|test2.mp4|test3.mp4&rdquo; -c copy yeqiongzhou.mp4</p></blockquote><ol start=3><li>Concat filter: è¿™ç§æ–¹å¼å®é™…ä¸Šæ˜¯æŠŠæ‰€æœ‰çš„è§†é¢‘éŸ³é¢‘å…¨éƒ¨è§£ç ï¼Œç»Ÿä¸€ä¸ºåŸå§‹çš„éŸ³è§†é¢‘æµï¼Œç„¶åå¡è¿›ç¼–ç å™¨é‡æ–°ç¼–ç ã€‚è¿™ç§æ–¹å¼éœ€è¦è§†é¢‘ä¹‹é—´çš„åˆ†è¾¨ç‡å’Œå¸§ç‡å¿…é¡»ä¸€è‡´ï¼Œä¼˜ç‚¹æ˜¯å…¼å®¹æ€§å¥½ï¼Œèƒ½å¤Ÿåº”ä»˜ç»å¤§éƒ¨åˆ†åœºæ™¯ã€‚</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ffmpeg -i test1.mp4 -i test2.webm -i test3.mov <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>-filter_complex <span style=color:#e6db74>&#34;[0âœŒï¸0][0ğŸ…°ï¸0][1âœŒï¸0][1ğŸ…°ï¸0][2âœŒï¸0][2ğŸ…°ï¸0]concat=n=3:v=1:a=1[outv][outa]&#34;</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>-map <span style=color:#e6db74>&#34;[outv]&#34;</span> -map <span style=color:#e6db74>&#34;[outa]&#34;</span> yeqiongzhou.mkv
é€šè¿‡ä¸Šé¢çš„å‘½ä»¤æˆ‘ä»¬åˆå¹¶äº†ä¸‰ä¸ªå…·æœ‰è§†é¢‘æµå’ŒéŸ³é¢‘æµçš„æ–‡ä»¶ã€‚
</code></pre></div></div><div class=post-copyright><p class=copyright-item><span>Author:</span>
<span>å¶ç¼å·</span></p><p class=copyright-item><span>Link:</span>
<a href=https://yeqiongzhou.com/2020/06/concatenate-video/>https://yeqiongzhou.com/2020/06/concatenate-video/</span></p><p class="copyright-item lincese">æœ¬æ–‡é‡‡ç”¨<a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/ target=_blank>çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯</p></div><div class=post-tags><section><i class="font_family icon-tag"></i>Tag(s):
<span class=tag><a href=https://yeqiongzhou.com/tags/ffmpeg/>#FFmpeg</a></span></section><section><a href=javascript:window.history.back();>back</a></span> Â·
<span><a href=https://yeqiongzhou.com>home</a></span></section></div><div class=post-nav><a href=https://yeqiongzhou.com/2020/05/chmod/ class=prev rel=prev title="Linux chmodå‘½ä»¤"><i class="font_family icon-left"></i>&nbsp;Linux chmodå‘½ä»¤</a>
<a href=https://yeqiongzhou.com/2020/06/mongoexport/ class=next rel=next title=mongoå¯¼å‡ºæ•°æ®>mongoå¯¼å‡ºæ•°æ®&nbsp;<i class="font_family icon-right"></i></a></div><div class=post-comment><div id=gitalk-container></div><link rel=stylesheet href=https://unpkg.com/gitalk/dist/gitalk.css><script src=https://unpkg.com/gitalk/dist/gitalk.min.js></script><script>var title=location.pathname.substr(0,50);const gitalk=new Gitalk({clientID:'abe0462addf2bb7816db',clientSecret:'302211bbfc34be3c75ec4cfa8751002e796356fa',repo:'blog',owner:'bodhiye',admin:['bodhiye'],id:title,distractionFreeMode:false});(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('gitalk-container').innerHTML='Gitalk comments not available by default when the website is previewed locally.';return;}
gitalk.render('gitalk-container');})();</script></div></article></div></main><footer class=footer><div class=copyright>&copy;
<span itemprop=copyrightYear>2019 - 2020</span>
<span class=with-love><i class="font_family icon-love"></i></span><span class=author itemprop=copyrightHolder><a href=https://yeqiongzhou.com>å¶ç¼å·</a> |</span>
<a href=http://beian.miit.gov.cn/ target=_blank rel="external nofollow">èµ£ICPå¤‡20001186å·</a> |
<span>Powered by <a href=https://gohugo.io/ target=_blank rel="external nofollow">Hugo</a></span></div></footer><script src=/js/vendor_no_gallery.min.js async></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-135209530-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script>var _hmt=_hmt||[];(function(){var hm=document.createElement("script");hm.src="https://hm.baidu.com/hm.js?8cb4aac9b76858bf912c10546e0ca16d";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script><script>(function(){var bp=document.createElement('script');var curProtocol=window.location.protocol.split(':')[0];if(curProtocol==='https'){bp.src='https://zz.bdstatic.com/linksubmit/push.js';}
else{bp.src='http://push.zhanzhang.baidu.com/push.js';}
var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bp,s);})();</script></div></body></html>